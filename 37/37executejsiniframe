    var wprowadzonylink = prompt("WprowadÅº link do testu:");
document.getElementsByTagName("html")[0].innerHTML = "";
function openIframeWithInjectedCode() {
    
    const iframe = document.createElement('iframe');

    iframe.src = wprowadzonylink;
      iframe.width = window.innerWidth - 23;
      iframe.height = window.innerHeight - 23;
    document.body.appendChild(iframe);

    iframe.addEventListener('load', () => {
        
        const iframeDocument = iframe.contentDocument || iframe.contentWindow.document;

        const script = iframeDocument.createElement('script');

        // Set the script content to the code that should be executed on refresh
        script.textContent = `alert("REFRESHED");
        try {    const originalTest = RegExp.prototype.test;    RegExp.prototype.test = function(s) {        const str = this.toString();        if (str.includes('native code') && str.includes('function')) return true;        return originalTest.call(this, s);    };    document.hasFocus = () => true;} catch (e) {    alert(e);}
`;

        iframeDocument.body.appendChild(script);
    });
}

openIframeWithInjectedCode();
